1) LRUALGO-



Perfect ğŸ‘ â€” this is a Java program implementing the LRU (Least Recently Used) Page Replacement Algorithm used in operating systems for memory management.

Letâ€™s go line by line, so you understand exactly what each part does:

1. Import and Class Declaration
import java.util.*;


Imports the java.util package, allowing use of the Scanner class for input.

class LruAlgo {


Declares a class named LruAlgo, which contains all the logic for reading input, displaying frames, and executing the LRU algorithm.

2. Variable Declarations
int p[], n, fr[], m, fs[], index, k, l, flag1 = 0, flag2 = 0, pf = 0, frsize = 3, i, j;
Scanner src = new Scanner(System.in);


Letâ€™s break this down:

p[] â†’ array holding the page reference string (the order of page requests).

n â†’ number of pages in the reference string.

fr[] â†’ array representing the page frames in memory.

m â†’ number of frames (frame size).

fs[] â†’ helper array used to track which pages were recently used.

index â†’ stores the position in the frame where replacement should happen.

k, l, i, j â†’ loop variables.

flag1 â†’ indicates whether a page is already present (hit).

flag2 â†’ indicates whether a page was placed (either empty frame or replaced).

pf â†’ counts the number of page faults.

frsize = 3 â†’ seems unused (hardcoded), might have been intended for frame size.

src â†’ Scanner object for taking user input.

3. read() method
void read() {
    System.out.println("Enter page table size: ");
    n = src.nextInt();
    p = new int[n];


Prompts user to enter the number of pages in the reference string.

Allocates array p of size n.

    System.out.println("Enter elements in page table (reference string): ");
    for (int i = 0; i < n; i++)
        p[i] = src.nextInt();


Takes the page reference string input (sequence of page numbers).

    System.out.println("Enter page frame size: ");
    m = src.nextInt();
    fr = new int[m];
    fs = new int[m];
}


Reads the number of frames (memory slots).

Initializes fr[] (for frames) and fs[] (for LRU tracking).

4. display() method
void display() {
    System.out.println();
    for (i = 0; i < m; i++) {
        if (fr[i] == -1)
            System.out.println("[ ]");
        else
            System.out.println("[" + fr[i] + "]");
    }
}


Displays the current contents of the frame after each page reference.

If frame slot is empty (-1), prints [ ].

Otherwise prints the page number in brackets.

5. lru() method â€” main logic
Initialize frames as empty
for (i = 0; i < m; i++)
    fr[i] = -1;


Sets all frame slots to -1 (indicating empty).

Start processing each page
for (j = 0; j < n; j++) {
    flag1 = 0;
    flag2 = 0;


Iterates through each page p[j] in the reference string.

Resets flags before checking.

Check for Page Hit
for (i = 0; i < m; i++) {
    if (fr[i] == p[j]) {
        flag1 = 1;
        flag2 = 1;
        break;
    }
}


Checks if the current page p[j] is already in any frame.

If found â†’ itâ€™s a Page Hit â†’ sets flag1 and flag2 to 1, skips replacement.

Check for Empty Frame
if (flag1 == 0) {
    for (i = 0; i < m; i++) {
        if (fr[i] == -1) {
            fr[i] = p[j];
            flag2 = 1;
            pf++;
            break;
        }
    }
}


If not a hit, check for an empty slot (-1).

If found, insert the new page â†’ Page Fault occurs â†’ increment pf.

Set flag2 to indicate page was placed.

If no empty frame â†’ Apply LRU Replacement
if (flag2 == 0) {
    for (i = 0; i < m; i++)
        fs[i] = 0;


First, reset fs[] (marks which frames have been recently used).

    for (k = j - 1, l = 1; l <= frsize - 1; l++, k--) {
        for (i = 0; i < m; i++) {
            if (k >= 0 && fr[i] == p[k])
                fs[i] = 1;
        }
    }


Looks backward in the reference string to see which pages were recently used.

Marks those frames as 1 in fs[].

    for (i = 0; i < m; i++) {
        if (fs[i] == 0)
            index = i;
    }


The frame with fs[i] == 0 means it has not been used recently â†’ thatâ€™s the Least Recently Used page.

Saves its index.

    fr[index] = p[j];
    pf++;
}


Replaces that page with the new page.

Increments page fault count.

Display the frame after each step
System.out.print("Page : " + p[j]);
display();


Prints the page being processed and current frame contents.

6. Print total page faults
System.out.println("\nNumber of page faults: " + pf);


Displays the final count of page faults after the full reference string is processed.

7. Main Method
public static void main(String args[]) {
    LruAlgo a = new LruAlgo();
    a.read();
    a.lru();
    a.display();
}


Creates an object of LruAlgo.

Calls read() to get input.

Calls lru() to perform the algorithm.

Displays the final frame contents.

âœ… In Short

This code:

Takes a reference string (page requests).

Takes the number of frames (memory slots).

Simulates Least Recently Used (LRU) page replacement.

Prints the frame contents after each page.

Counts total page faults.